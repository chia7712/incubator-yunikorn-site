"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[35456],{95788:(e,n,t)=>{t.d(n,{Iu:()=>y,yg:()=>c});var r=t(11504);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},p=Object.keys(e);for(r=0;r<p.length;r++)t=p[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(r=0;r<p.length;r++)t=p[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var g=r.createContext({}),i=function(e){var n=r.useContext(g),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},y=function(e){var n=i(e.components);return r.createElement(g.Provider,{value:n},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,p=e.originalType,g=e.parentName,y=o(e,["components","mdxType","originalType","parentName"]),u=i(t),m=a,c=u["".concat(g,".").concat(m)]||u[m]||s[m]||p;return t?r.createElement(c,l(l({ref:n},y),{},{components:t})):r.createElement(c,l({ref:n},y))}));function c(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var p=t.length,l=new Array(p);l[0]=m;var o={};for(var g in n)hasOwnProperty.call(n,g)&&(o[g]=n[g]);o.originalType=e,o[u]="string"==typeof e?e:a,l[1]=o;for(var i=2;i<p;i++)l[i]=t[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},34244:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>l,default:()=>s,frontMatter:()=>p,metadata:()=>o,toc:()=>i});var r=t(45072),a=(t(11504),t(95788));const p={id:"system",title:"\u7cfb\u7d71"},l=void 0,o={unversionedId:"api/system",id:"version-1.4.0/api/system",title:"\u7cfb\u7d71",description:"\x3c!--",source:"@site/i18n/zh-cn/docusaurus-plugin-content-docs/version-1.4.0/api/system.md",sourceDirName:"api",slug:"/api/system",permalink:"/zh-cn/docs/api/system",draft:!1,tags:[],version:"1.4.0",frontMatter:{id:"system",title:"\u7cfb\u7d71"},sidebar:"docs",previous:{title:"\u8c03\u5ea6\u5668",permalink:"/zh-cn/docs/api/scheduler"},next:{title:"Scheduler",permalink:"/zh-cn/docs/metrics/scheduler"}},g={},i=[{value:"pprof",id:"pprof",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",level:3},{value:"\u5806 (Heap)",id:"\u5806-heap",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-1",level:3},{value:"\u7ebf\u7a0b\u521b\u5efa",id:"\u7ebf\u7a0b\u521b\u5efa",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-2",level:3},{value:"Goroutine",id:"goroutine",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-3",level:3},{value:"\u5206\u914d (Allocations)",id:"\u5206\u914d-allocations",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-4",level:3},{value:"\u963b\u585e\u5206\u6790 (Block)",id:"\u963b\u585e\u5206\u6790-block",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-5",level:3},{value:"\u4e92\u65a5\u9501\u5206\u6790 (Mutex)",id:"\u4e92\u65a5\u9501\u5206\u6790-mutex",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-6",level:3},{value:"\u547d\u4ee4\u884c\u53c2\u6570 (Cmdline)",id:"\u547d\u4ee4\u884c\u53c2\u6570-cmdline",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-7",level:3},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-8",level:3},{value:"Symbol",id:"symbol",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-9",level:3},{value:"\u8ddf\u8e2a(Trace)",id:"\u8ddf\u8e2atrace",level:2},{value:"\u6210\u529f\u65f6\u7684\u54cd\u5e94",id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-10",level:3}],y={toc:i},u="wrapper";function s(e){let{components:n,...t}=e;return(0,a.yg)(u,(0,r.c)({},y,t,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"\u8fd9\u4e9b\u7aef\u70b9\u662f\u7528\u4e8e\u63d0\u4f9b\u8cc7\u8a0a\u7d66",(0,a.yg)("a",{parentName:"p",href:"https://github.com/google/pprof"},"pprof"),"\u5206\u6790\u5de5\u5177\u3002"),(0,a.yg)("h2",{id:"pprof"},"pprof"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-text"},"/debug/pprof/\n\nTypes of profiles available:\nCount   Profile\n273 allocs\n0   block\n0   cmdline\n78  goroutine\n273 heap\n0   mutex\n0   profile\n29  threadcreate\n0   trace\nfull goroutine stack dump\nProfile Descriptions:\n\nallocs: A sampling of all past memory allocations\nblock: Stack traces that led to blocking on synchronization primitives\ncmdline: The command line invocation of the current program\ngoroutine: Stack traces of all current goroutines\nheap: A sampling of memory allocations of live objects. You can specify the gc GET parameter to run GC before taking the heap sample.\nmutex: Stack traces of holders of contended mutexes\nprofile: CPU profile. You can specify the duration in the seconds GET parameter. After you get the profile file, use the go tool pprof command to investigate the profile.\nthreadcreate: Stack traces that led to the creation of new OS threads\ntrace: A trace of execution of the current program. You can specify the duration in the seconds GET parameter. After you get the trace file, use the go tool trace command to investigate the trace.\n")),(0,a.yg)("h2",{id:"\u5806-heap"},"\u5806 (Heap)"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/heap")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-1"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"\u7ebf\u7a0b\u521b\u5efa"},"\u7ebf\u7a0b\u521b\u5efa"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/threadcreate")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-2"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"goroutine"},"Goroutine"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/goroutine")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-3"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"\u5206\u914d-allocations"},"\u5206\u914d (Allocations)"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/allocs")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-4"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"\u963b\u585e\u5206\u6790-block"},"\u963b\u585e\u5206\u6790 (Block)"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/block")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-5"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"\u4e92\u65a5\u9501\u5206\u6790-mutex"},"\u4e92\u65a5\u9501\u5206\u6790 (Mutex)"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/mutex")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-6"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"\u547d\u4ee4\u884c\u53c2\u6570-cmdline"},"\u547d\u4ee4\u884c\u53c2\u6570 (Cmdline)"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/cmdline")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-7"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/profile")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-8"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"symbol"},"Symbol"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/symbol")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-9"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")),(0,a.yg)("h2",{id:"\u8ddf\u8e2atrace"},"\u8ddf\u8e2a(Trace)"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u4f4d\u7f6e(URL)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"/debug/pprof/trace")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u65b9\u6cd5(Method)")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")),(0,a.yg)("h3",{id:"\u6210\u529f\u65f6\u7684\u54cd\u5e94-10"},"\u6210\u529f\u65f6\u7684\u54cd\u5e94"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u56de\u4f20\u4ee3\u7801")," : ",(0,a.yg)("inlineCode",{parentName:"p"},"200 OK")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-proto"},"// \u6765\u81eaproto\u7684\u4e8c\u8fdb\u5236\u6570\u636e\n")))}s.isMDXComponent=!0}}]);